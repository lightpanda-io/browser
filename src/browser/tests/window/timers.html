<!DOCTYPE html>
<script src="../testing.js"></script>

<script id=setInterval>
  let set_interval1 = false
  let timer1 = window.setInterval(function() {
    set_interval1 = true;
    testing.expectEqual(window, this);
  }, 1);

  let set_interval2 = false
  let timer2 = window.setInterval(function() {
    set_interval2 = true;
  }, 1)
  window.clearInterval(timer2);

  testing.expectEqual(true, timer1 != timer2);


  testing.eventually(() => {
    testing.expectEqual(true, set_interval1);
    testing.expectEqual(false, set_interval2);
  });
</script>
