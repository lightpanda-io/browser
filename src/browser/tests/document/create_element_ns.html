<!DOCTYPE html>
<body></body>
<script src="../testing.js"></script>
<script id=createElementNS>
  const htmlDiv1 = document.createElementNS('http://www.w3.org/1999/xhtml', 'div');
  testing.expectEqual('DIV', htmlDiv1.tagName);
  testing.expectEqual(true, htmlDiv1 instanceof HTMLDivElement);
  testing.expectEqual('http://www.w3.org/1999/xhtml', htmlDiv1.namespaceURI);

  // Per spec, createElementNS does NOT lowercase â€” 'DIV' != 'div', so this
  // creates an HTMLUnknownElement, not an HTMLDivElement.
  const htmlDiv2 = document.createElementNS('http://www.w3.org/1999/xhtml', 'DIV');
  testing.expectEqual('DIV', htmlDiv2.tagName);
  testing.expectEqual(false, htmlDiv2 instanceof HTMLDivElement);
  testing.expectEqual('http://www.w3.org/1999/xhtml', htmlDiv2.namespaceURI);

  const svgRect = document.createElementNS('http://www.w3.org/2000/svg', 'RecT');
  testing.expectEqual('RecT', svgRect.tagName);
  testing.expectEqual('http://www.w3.org/2000/svg', svgRect.namespaceURI);

  const mathElement = document.createElementNS('http://www.w3.org/1998/Math/MathML', 'math');
  testing.expectEqual('math', mathElement.tagName);
  testing.expectEqual('http://www.w3.org/1998/Math/MathML', mathElement.namespaceURI);

  const xmlElement = document.createElementNS('http://www.w3.org/XML/1998/namespace', 'TEst');
  testing.expectEqual('TEst', xmlElement.tagName);
  testing.expectEqual('http://www.w3.org/XML/1998/namespace', xmlElement.namespaceURI);

  const nullNsElement = document.createElementNS(null, 'span');
  testing.expectEqual('span', nullNsElement.tagName);
  testing.expectEqual(null, nullNsElement.namespaceURI);

  const unknownNsElement = document.createElementNS('http://example.com/unknown', 'custom');
  testing.expectEqual('custom', unknownNsElement.tagName);
  // Should be http://example.com/unknown
  testing.expectEqual('http://lightpanda.io/unsupported/namespace', unknownNsElement.namespaceURI);

  const regularDiv = document.createElement('div');
  testing.expectEqual('DIV', regularDiv.tagName);
  testing.expectEqual('div', regularDiv.localName);
  testing.expectEqual(null, regularDiv.prefix);
  testing.expectEqual('http://www.w3.org/1999/xhtml', regularDiv.namespaceURI);

  const custom = document.createElementNS('test', 'te:ST');
  testing.expectEqual('te:ST', custom.tagName);
  testing.expectEqual('te', custom.prefix);
  testing.expectEqual('ST', custom.localName);
  testing.expectEqual('http://lightpanda.io/unsupported/namespace', custom.namespaceURI); // Should be test
</script>
