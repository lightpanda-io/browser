<!DOCTYPE html>
<script src="../testing.js"></script>

<div id=c></div>

<script id=template>
  let t = document.createElement('template');
  let d = document.createElement('div');
  d.id = 'abc';
  t.content.append(d);

  testing.expectEqual(null, document.getElementById('abc'));
  document.getElementById('c').appendChild(t.content.cloneNode(true));
  testing.expectEqual('abc', document.getElementById('abc').id);

  t.innerHTML = '<span>over</span><p>9000!</p>';
  testing.expectEqual(2, t.content.childNodes.length);
  testing.expectEqual('SPAN', t.content.childNodes[0].tagName);
  testing.expectEqual('over', t.content.childNodes[0].innerHTML);
  testing.expectEqual('P', t.content.childNodes[1].tagName);
  testing.expectEqual('9000!', t.content.childNodes[1].innerHTML);
</script>

<template id="hello"><p>hello, world</p></template>

<script id=template_parsing>
  const tt = document.getElementById('hello');
  testing.expectEqual('<p>hello, world</p>', tt.innerHTML);

  // > The Node.childNodes property of the <template> element is always empty
  // https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/template#usage_notes
  testing.expectEqual(0, tt.childNodes.length);

  let out = document.createElement('div');
  out.appendChild(tt.content.cloneNode(true));

  testing.expectEqual('<p>hello, world</p>', out.innerHTML);
</script>
