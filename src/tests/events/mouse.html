<script src="../testing.js"></script>
<script id=default>
  let event = new MouseEvent('click');
  testing.expectEqual('click', event.type);
  testing.expectEqual(true, event instanceof MouseEvent);
  testing.expectEqual(true, event instanceof Event);
  testing.expectEqual(0, event.clientX);
  testing.expectEqual(0, event.clientY);
  testing.expectEqual(0, event.screenX);
  testing.expectEqual(0, event.screenY);
</script>

<script id=parameters>
  let new_event = new MouseEvent('click', { 'button': 0, 'clientX': 10, 'clientY': 20 });
  testing.expectEqual(0, new_event.button);
  testing.expectEqual(10, new_event.x);
  testing.expectEqual(20, new_event.y);
  testing.expectEqual(10, new_event.screenX);
  testing.expectEqual(20, new_event.screenY);
</script>

<script id=listener>
  let me = new MouseEvent('click');
  testing.expectEqual(true, me instanceof Event);

  var evt = null;
  document.addEventListener('click', function (e) {
    evt = e;
  });
  document.dispatchEvent(me);
  testing.expectEqual('click', evt.type);
  testing.expectEqual(true, evt instanceof MouseEvent);
</script>

<script id=customMouseEvent>
  let hasEventDispatched = false;

  let customMouseEvent = new MouseEvent("CustomMouseEvent");
  testing.expectEqual(true, customMouseEvent instanceof MouseEvent);

  document.addEventListener("CustomMouseEvent", (event) => {
    hasEventDispatched = true;

    testing.expectEqual(true, event instanceof MouseEvent);
    testing.expectEqual(true, customMouseEvent === event);
  });

  document.dispatchEvent(customMouseEvent);
  testing.expectEqual(true, hasEventDispatched);
</script>
